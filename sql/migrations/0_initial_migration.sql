CREATE TABLE IF NOT EXISTS routines (id INTEGER PRIMARY KEY NOT NULL, title TEXT NOT NULL);
CREATE TABLE IF NOT EXISTS tasks (id INTEGER PRIMARY KEY NOT NULL, routineId INTEGER NOT NULL, name TEXT NOT NULL, command TEXT NOT NULL, FOREIGN KEY(routineId) REFERENCES routines(id));
CREATE TABLE IF NOT EXISTS presets (id INTEGER PRIMARY KEY NOT NULL, commandString TEXT NOT NULL);
CREATE TABLE IF NOT EXISTS routine_backups (id INTEGER PRIMARY KEY NOT NULL, routineId INTEGER NOT NULL, timestamp INTEGER NOT NULL, FOREIGN KEY(routineId) REFERENCES routines(id));
CREATE TABLE IF NOT EXISTS task_backups (id INTEGER PRIMARY KEY NOT NULL, routineBackupId INTEGER, taskId INTEGER NOT NULL, timestamp INTEGER NOT NULL, success INTEGER NOT NULL, FOREIGN KEY(routineBackupId) REFERENCES routine_backups(id), FOREIGN KEY(taskId) REFERENCES tasks(id));